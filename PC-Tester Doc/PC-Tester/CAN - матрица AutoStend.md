# PC -> Stend
## Connect
### ConnectMsgPC
**Time: 100ms**
**Id: 0x51**
**Description:** Сообщение которое отправляется постоянно, если PC и Stend не присоединены. По этому сообщение Stend понимает что PC хочет присоединится.
#### MSG
0. 0xAA
1. 0x00
2. 0xAA
3. 0x00
4. 0xAA
5. 0x00
6. 0xAA
7. 0xFA - идентификатор PC
### ConnectMsgPCPeriodic
**Time: 100ms**
**Id: 0x51**
**Description:** Сообщение которое отправляется постоянно, если PC и Stend присоединены. По этому сообщение Stend понимает что PC хочет проверить присоединение..
#### MSG
0. Число 0x00 - 0xFF. Число увеличивается на два, при каждом следующем сообщение.
1. 0x00
2. 0xAA
3. 0x00
4. 0xAA
5. 0x00
6. 0xAA
7. 0xFA - идентификатор PC
### Комментарий
1. Stend отключен, PC постоянно отправляет сообщение ConnectMsgPC. 
2. После того как от Stend пришло сообщение ConnectMsgStend, PC понимает, что Stend готов к работе.
3. PC начинает отправлять сообщение ConnectMsgPCPeriodic. Начиная с 0x00 в нулевом байте. В каждом следующем сообщение число увеличивается на 0x02 (как это число превышает 0xFF, оно сбрасывается до 0x00). ConnectMsgStend перестаёт отправляться на этом этапе.
4. В случае если ответное сообщение не пришло в течении 100 мс или проверочное число пришедшее в сообщение ConnectMsgStendPeriodic от Stend неверно, алгоритм проверки соединения начинается сначала.
-------------
*Примечание. Как считается проверочное число?*
PC начинает отправлять сообщение ConnectMsgPCPeriodic, проверочное число 0x00. Stend проверяет это число, увеличивает на 0x01 и отправляет ConnectMsgStendPeriodic. PC принимает это сообщение, проверяет число и увеличивает его на 0x01 и отправляет ConnectMsgStendPeriodic. И т.д. (как это число превышает 0xFF, оно сбрасывается до 0x00).
## Test
### TestMsg
**Time: не периодическое**
**Id: 0x51**
**Description:** Сообщение даёт команду Stend-у на начало проверки пина. 
#### MSG
0. Pad - Номер колодки. (A - 1; B - 2; C - 3; C - 4; ...)
1. Pin - Номер пина в колодки. (1; 2; 3; 4; ...)
2. Flags - Флаги (Нумерация битов слева направо)
	0. DM/BCM - DM = 0 / BCM = 1
	1. Type pin - DIG_IN = 000 | ANALOG_IN = 001
	2. Type pin - HALL_IN = 010 | DIG_OUT = 011 
	3. Type pin - PWM_OUT = 100 | VNH_OUT = 101 | HLD_OUT = 110





# PC <- Stend
## Test
### TestMsg
**Time: не периодическое**
**Id: 0x51**
**Description:** Сообщение в котором отправляется результаты всего теста или части теста.
#### MSG
0. NumPad - номер сообщения в тесте и идентификатор конектора (Нумерация битов слева направо)
	1. num - 4 бита хранящие в себе номер сообщения с результатами.
	2. num   Каждый новый тест, нумерация начинается с нуля. 
	3. num
	4. num
	5. pad - 4 бата хранящие в себе номер колодки. 
	6. pad   (A - 1; B - 2; C - 3; C - 4; ...)
	7. pad
	8. pad
1.  Pin - Номер пина в колодки. (1; 2; 3; 4; ...)
2. Flags (Нумерация битов слева направо)
	1. type
	2. type
	3. type
	4. notSet
	5. notSet
	6. notSet
	7. notSet
	8. endTest - 0 = не конец теста / 1 = конец теста. Флаг показывающий последние сообщение в тесте.
3. notSet
4. Volt
5. Volt
6. Amper
7. Amper